<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curso de Canvas: Canvas Pong</title>

    <style>
        #desenho1{
            border: 1px solid black;
        }
    </style>
</head>
<body>

    <canvas id="desenho1" width="1000" height="500">
        <h3>Seu broswer não dá suporte ao Canvas</h3>
    </canvas>

    
    <script src="Jogador.js"></script>

<script>
let canvas = document.getElementById('desenho1')
let ctx = canvas.getContext('2d')

const teclado={
    baixo:false,
    cima:false,
    esquerda:false,
    direita:false
}

const jogador = new Jogador(ctx,teclado)

window.addEventListener('keydown',(event)=>{
    if(event.keyCode==37){
        teclado.esquerda=true
    }
    if(event.keyCode==38){
        teclado.cima=true 
    }
    if(event.keyCode==39){
        teclado.direita=true 
    }
    if(event.keyCode==40){
        teclado.baixo=true
    }
})

window.addEventListener('keyup',(event)=>{
    if(event.keyCode==37){
        teclado.esquerda=false
    }
    if(event.keyCode==38){
        teclado.cima=false 
    }
    if(event.keyCode==39){
        teclado.direita=false 
    }
    if(event.keyCode==40){
        teclado.baixo=false 
    }
    
    
})

const game =()=>{
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    jogador.desenhar()
    requestAnimationFrame(game)
    
}

requestAnimationFrame(game)
 
    </script>
    
</body>
</html>